FROM node:20-alpine

RUN apk add --no-cache curl

WORKDIR /app
COPY . .

RUN corepack enable && pnpm install

ENV NODE_ENV=development

CMD ["sh", "-c", "pnpm --filter @family-hub/web dev -- --host 0.0.0.0 --port ${WEB_PORT:-5173}"]
